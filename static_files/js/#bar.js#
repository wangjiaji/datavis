var w = 600, h = 250;
var dataset = [];

for (var i = 0; i < 20; i++)
    dataset.push(Math.round(Math.random() * 30));

var barWidth = w / dataset.length;

var xScale = d3.scale.ordinal()
    .domain(d3.range(dataset.length))
    .rangeRoundBands([0, w], 0.05);

var yScale = d3.scale.linear()
    .domain([d3.min(dataset), d3.max(dataset)])
    .range(h, 0);

var svg = d3.select('body').append('svg')
    .attr({
	'width': w,
	'height': h
    });

svg.selectAll('rect').data(dataset).enter()
    .append('rect')
    .attr({
	'x': function(d, i) { return xScale(i); },
	'y': function (d) { return yScale(d); },
	'width': xScale.rangeBand(),
	'height': function (d) { return h - d; }
    });
